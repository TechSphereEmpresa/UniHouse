<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastro</title>
    <link rel="stylesheet" href="/css/login/cadastro.css">
    <link rel="icon" href="/assets/images/logo.png" type="image/png">
    <link rel="stylesheet" href="/css/main.css">
</head>

<body>
    <header>
        <a href="/pages/login-cadastro/login-inicial.html">
            <img src="/assets/icons/common/seta-voltar.svg" alt="Voltar">
        </a>
    </header>

    <main>
        <h1>Faça o cadastro da sua conta para começar</h1>
        <form id="formCadastro">
            <div class="div-dados">
                <input class="nome input-field" type="text" placeholder="Nome">
                <input type="email" class="input-field" placeholder="Email universitário">
                <input type="tel" class="input-field" placeholder="Telefone">
                <input type="password" class="input-field" placeholder="Senha">
                <input type="password" class="input-field" placeholder="Confirmar senha">

                <!-- Opções de perfil com Radio Buttons -->
                <label class="radio-option" id="moradorOption">
                    <input type="radio" name="role" value="morador">
                    <img src="/assets/icons/login-cadastro/bolinha-cadastro.svg" alt="Opção Morador">
                    <span>Morador (entra em uma república)</span>
                </label>
                <label class="radio-option" id="adminOption">
                    <input type="radio" name="role" value="administrador">
                    <img src="/assets/icons/login-cadastro/bolinha-cadastro.svg" alt="Opção Administrador">
                    <span>Administrador (criar uma república)</span>
                </label>
                
                <!-- Botão de Registrar -->
                <button type="submit" class="btn-registrar">Registrar</button>
            </div>
        </form>
    </main>

    <script>
        document.getElementById('formCadastro').addEventListener('submit', function(event) {
            event.preventDefault(); // Impede o comportamento padrão do formulário

            // Obtém o perfil selecionado
            const perfilSelecionado = document.querySelector('input[name="role"]:checked') ? 
                                      document.querySelector('input[name="role"]:checked').value : null;

            // Log para verificar se o perfil foi capturado corretamente
            console.log('Perfil selecionado:', perfilSelecionado);

            // Salva o perfil no Local Storage se um perfil estiver selecionado
            if (perfilSelecionado) {
                localStorage.setItem('perfilUsuario', perfilSelecionado);
                console.log('Perfil salvo no Local Storage:', perfilSelecionado);
            } else {
                console.warn('Nenhum perfil foi selecionado.');
            }

            // Redireciona para a página inicial
            window.location.href = '/pages/inicio/inicio.html';
        });

        // Opções de seleção para adicionar estilos visuais (opcional)
        const moradorOption = document.getElementById('moradorOption');
        const adminOption = document.getElementById('adminOption');

        moradorOption.addEventListener('click', function () {
            moradorOption.classList.add('selected');
            adminOption.classList.remove('selected');
        });

        adminOption.addEventListener('click', function () {
            adminOption.classList.add('selected');
            moradorOption.classList.remove('selected');
        });
    </script>
</body>
</html>
